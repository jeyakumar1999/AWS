For windows template in aws.

Region US-EAST-02 OHIO

USERNAME       VERSION
Sobhita           1
Tara              2
Riya              3

SD -> SOBHITA DHULIPLA
RS -> RIYA SEN
TS -> TARA SUTARIA

Aws cli command

aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=1' \
    --count 1

aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=2' \
    --count 1

aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=3' \
    --count 1

PowerShell Script

<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name sobhita -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member sobhita
Add-LocalGroupMember -Group "Remote Desktop Users" -Member sobhita
</powershell>


<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name tara -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member tara
Add-LocalGroupMember -Group "Remote Desktop Users" -Member tara
</powershell>

<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name riya -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member riya
Add-LocalGroupMember -Group "Remote Desktop Users" -Member riya
</powershell>

<powershell>
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name pranitha -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member pranitha
Add-LocalGroupMember -Group "Remote Desktop Users" -Member pranitha
</powershell>

<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name shraddha -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member shraddha
Add-LocalGroupMember -Group "Remote Desktop Users" -Member shraddha
</powershell>

<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
$Path = $env:TEMP; $Installer = "chrome_installer.exe"; Invoke-WebRequest "http://dl.google.com/chrome/install/375.126/chrome_installer.exe" -OutFile $Path\$Installer; Start-Process -FilePath $Path\$Installer -Args "/silent /install" -Verb RunAs -Wait; Remove-Item $Path\$Installer
New-LocalUser -Name Diana -Password (ConvertTo-SecureString -AsPlainText -Force 9952017787@Aa) -AccountNeverExpires:$true
Add-LocalGroupMember -Group "Administrators" -Member Diana
Add-LocalGroupMember -Group "Remote Desktop Users" -Member Diana
</powershell>


Shell for windows template

#!/bin/bash

echo "WINDOWS AMI TEMPLATE :"

PS3="Enter your Name (1-6): "  # Customize the prompt

select name in "USE2_SD" "USE2_TS" "USE2_RS" "CAWST01_SD" "CAWST01_TS" "CAWST01_RS"; do
    case $name in
        "USE2_SD")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=1' \
    --count 1 \

            break
            ;;
        "USE2_TS")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=2' \
    --count 1
    break
            ;;
        "USE2_RS")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=WINS-2025,Version=3' \
    --count 1
    break
    ;;
            "CAWST01_SD")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=CA_WINS-2025,Version=1' \
    --count 1 \
    --region ca-west-1
        break
    ;;
                "CAWST01_TS")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=CA_WINS-2025,Version=2' \
    --count 1 \
    --region ca-west-1
        break
    ;;
                "CAWST01_RS")
            aws ec2 run-instances \
    --launch-template 'LaunchTemplateName=CA_WINS-2025,Version=3' \
    --count 1 \
    --region ca-west-1
        break
    ;;
     *)
            echo "Invalid choice. Please select a number from 1 to 6."
            ;;
    esac
done



--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Enabling password for ssh via shell script 

#!/bin/bash
sudo su
sudo sed -i '$a sobhita ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash sobhita
echo "sobhita:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd

#!/bin/bash
sudo su
sudo sed -i '$a tara ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash tara
echo "tara:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd

#!/bin/bash
sudo su
sudo sed -i '$a riya ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash riya
echo "riya:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd

#!/bin/bash
sudo su
sudo sed -i '$a pranitha ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash pranitha
echo "pranitha:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd

#!/bin/bash
sudo su
sudo sed -i '$a shraddha ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash shraddha
echo "shraddha:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd

#!/bin/bash
sudo su
sudo sed -i '$a Diana ALL=(ALL) ALL' /etc/sudoers; sed -i '/^#\?PasswordAuthentication/cPasswordAuthentication yes' /etc/ssh/sshd_config
sudo systemctl restart sshd
sudo useradd -m -s /bin/bash Diana
echo "Diana:9952017787@Aa" | sudo chpasswd
echo "ec2-user:9952017787@Aa" | sudo chpasswd




#Name   = Sobhita Dhulipala
#Region = US-EAST-02

aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnJGEgc29iaGl0YSBBTEw9KEFMTCkgQUxMJyAvZXRjL3N1ZG9lcnM7IHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggc29iaGl0YQplY2hvICJzb2JoaXRhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address


#Name   = Tara Sutaria  
#Region = US-EAST-02

aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnJGEgdGFyYSBBTEw9KEFMTCkgQUxMJyAvZXRjL3N1ZG9lcnM7IHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggdGFyYQplY2hvICJ0YXJhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address




#Name   = Riya Sen
#Region = US-EAST-02

aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnJGEgcml5YSBBTEw9KEFMTCkgQUxMJyAvZXRjL3N1ZG9lcnM7IHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggcml5YQplY2hvICJyaXlhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address


#!/bin/bash

echo "LINUX AMI  FOR OHIO REGION:"

PS3="Enter your Name (1-3): "  # Customize the prompt

select name in "SOBHITA" "TARA" "RIYA"; do
    case $name in
        "SOBHITA")
aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggc29iaGl0YQplY2hvICJzb2JoaXRhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address

            break
            ;;
        "TARA")
aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggdGFyYQplY2hvICJ0YXJhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address | grep PrivateIpAddress
    break
            ;;
        "RIYA")
aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKc3VkbyBzdQpzdWRvIHNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hkCnN1ZG8gdXNlcmFkZCAtbSAtcyAvYmluL2Jhc2ggcml5YQplY2hvICJyaXlhOjk5NTIwMTc3ODdAQWEiIHwgc3VkbyBjaHBhc3N3ZA==" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address
    break
    ;;
            "S3 Server")
aws ec2 run-instances \
    --image-id ami-08ca1d1e465fbfe0c \
    --instance-type t2.micro \
    --user-data "IyEvYmluL2Jhc2gKIyBTZXQgdmFyaWFibGVzIGZvciB5b3VyIGFjY2VzcyBrZXksIHNlY3JldCBrZXksIGFuZCByZWdpb24KQVdTX0FDQ0VTU19LRVlfSUQ9IkFLSUFWV1IzRUVHQzdQQzNUUjZMIgpBV1NfU0VDUkVUX0FDQ0VTU19LRVk9InkzeGRCTjgyeWhQaFFYVnVXVk1BRytmRVlWTlNVWEJpWkw0SlIyZjAiCkFXU19SRUdJT049InVzLWVhc3QtMiIKIyBDb25maWd1cmUgdGhlIGNyZWRlbnRpYWxzIGFuZCByZWdpb24gZm9yIHRoZSBzcGVjaWZpZWQgcHJvZmlsZQphd3MgY29uZmlndXJlIHNldCBhd3NfYWNjZXNzX2tleV9pZCAiJEFXU19BQ0NFU1NfS0VZX0lEIiAKYXdzIGNvbmZpZ3VyZSBzZXQgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ICIkQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIgphd3MgY29uZmlndXJlIHNldCByZWdpb24gIiRBV1NfUkVHSU9OIiAKYXdzIGNvbmZpZ3VyZSBzZXQgb3V0cHV0ICJqc29uIiAKY3VybCAtTyBodHRwczovL3MzLmFtYXpvbmF3cy5jb20vbW91bnRwb2ludC1zMy1yZWxlYXNlL2xhdGVzdC94ODZfNjQvbW91bnQtczMucnBtCnN1ZG8geXVtIGluc3RhbGwgLi9tb3VudC1zMy5ycG0gLXkKc3VkbyBzdQpjZCAvaG9tZS9lYzItdXNlcgpta2RpciBzMwptb3VudC1zMyB2bS1zZXJpZXMwMQpta2RpciBlZnMKY2htb2QgLVIgNzc3IGVmcy8Kc3VkbyBtb3VudCAtdCBuZnM0IC1vIG5mc3ZlcnM9NC4xLHJzaXplPTEwNDg1NzYsd3NpemU9MTA0ODU3NixoYXJkLHRpbWVvPTYwMCxyZXRyYW5zPTIsbm9yZXN2cG9ydCAxMC4wLjIuMjEyOi8gZWZzCmVjaG8gImVjMi11c2VyOjg4NTc2MSIgfCBzdWRvIGNocGFzc3dkCnNlZCAtaSAnL14jXD9QYXNzd29yZEF1dGhlbnRpY2F0aW9uL2NQYXNzd29yZEF1dGhlbnRpY2F0aW9uIHllcycgL2V0Yy9zc2gvc3NoZF9jb25maWcKc3VkbyBzeXN0ZW1jdGwgcmVzdGFydCBzc2hk" \
    --count 1 \
    --subnet-id subnet-0ab0676bed1f7923e \
    --key-name US-EAST-02 \
    --security-group-ids sg-0d5693b9a61cabda4 \
    --associate-public-ip-address
    break
    ;;
        *)
            echo "Invalid choice. Please select a number from 1 to 3."
            ;;
    esac
done
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Mutiple script choice.

#!/bin/bash

echo "AWS ALPHA  ACCOUNT FOR OHIO REGION:"

PS3="Enter your Name (1-2): "  # Customize the prompt

select name in "LINUX" "WINDOWNS"; do
    case $name in
        "LINUX")
. Linux.sh
            break
            ;;
        "WINDOWNS")
. Windows.sh
    break
            ;;
        *)
            echo "Invalid choice. Please select a number from 1 to 2."
            ;;
    esac
done

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#!/bin/bash

# Set variables for your access key, secret key, and region
AWS_ACCESS_KEY_ID="YOUR_ACCESS_KEY_ID"
AWS_SECRET_ACCESS_KEY="YOUR_SECRET_ACCESS_KEY"
AWS_REGION="us-east-1"
PROFILE_NAME="my-profile"

# Configure the credentials and region for the specified profile
aws configure set aws_access_key_id "$AWS_ACCESS_KEY_ID" --profile "$PROFILE_NAME"
aws configure set aws_secret_access_key "$AWS_SECRET_ACCESS_KEY" --profile "$PROFILE_NAME"
aws configure set region "$AWS_REGION" --profile "$PROFILE_NAME"
aws configure set output "json" --profile "$PROFILE_NAME"

echo "AWS credentials configured for profile: $PROFILE_NAME"

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Domain joining for EC2 instance:-

aws ssm send-command \
    --instance-ids "<YOUR_INSTANCE_ID>" \
    --document-name "AWS-JoinDirectoryServiceDomain" \
    --parameters '{
        "directoryId":["<YOUR_DIRECTORY_ID>"],
        "directoryName":["<YOUR_DIRECTORY_NAME>"],
        "dnsIpAddresses":["<IP_ADDRESS_1>","<IP_ADDRESS_2>"]
    }' \
    --region "<REGION>" \
    --comment "Domain join with explicit DNS configuration"


aws ssm send-command \
    --targets Key=tag:DomainJoin,Values=Pending \
    --document-name "AWS-JoinDirectoryServiceDomain" \
    --parameters '{"directoryId":["<YOUR_DIRECTORY_ID>"], "directoryName":["<YOUR_DIRECTORY_NAME>"]}' \
    --region "<REGION>" \
    --comment "Bulk domain join using EC2 tags"

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

Installing Customize Active Directory Domain Service in PowerShell Script

<powershell>
Set-LocalUser -Name "Administrator" -Password (ConvertTo-SecureString -AsPlainText "9952017787@Aa" -Force)
Install-WindowsFeature -Name AD-Domain-Services, DNS -IncludeManagementTools            
$DSRMPasswordPlain = "YourComplexDSRMpassword123!"
$DSRMPasswordSecure = ConvertTo-SecureString -String $DSRMPasswordPlain -AsPlainText -Force
Import-Module ADDSDeployment
Install-ADDSForest `
-CreateDnsDelegation:$false `
-DatabasePath "C:\Windows\NTDS" `
-DomainMode "Win2025" `
-DomainName "syd.ltd" `
-DomainNetbiosName "SYD" `
-ForestMode "Win2025" `
-InstallDns:$true `
-LogPath "C:\Windows\NTDS" `
-NoRebootOnCompletion:$false `
-SafeModeAdministratorPassword $DSRMPasswordSecure `
-SysvolPath "C:\Windows\SYSVOL" `
-Force:$true
</powershell>
